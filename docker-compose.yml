version: '2'
services:
  angular-app:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - '9000:80'
    volumes:
      - '/var/log/container-logs:/var/log/container-logs'
    networks:
      - app-network
    logging:
      driver: syslog
      options:
        syslog-address: 'tcp://localhost:514'

  sumodocker:
    build:
      context: ./sumodocker
    ports:
      - '514:514'
    volumes:
      - '/var/log/container-logs:/var/log/container-logs'
    environment:
      SUMO_ACCESS_ID: 'survbyERaP1qQr'
      SUMO_ACCESS_KEY: 'a2QKoMrumow0qCdhSsk3qqA3rD0UG6BtRHtCYLQgqPTZvjjgZIAv3OUbnDBqYt3W'
      SUMO_COLLECTOR_NAME: 'angularapp-collector'
      SUMO_SOURCES_JSON: '/etc/sumo-sources.json'
    networks:
      - app-network

networks:
  app-network: